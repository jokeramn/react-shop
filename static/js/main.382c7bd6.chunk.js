(this.webpackJsonpgoods=this.webpackJsonpgoods||[]).push([[0],{28:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(7),a=c.n(r),i=c(3),s=c(0),o=function(){return Object(s.jsx)("footer",{className:"page-footer  green lighten-4",children:Object(s.jsx)("div",{className:"footer-copyright",children:Object(s.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright Text",Object(s.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"More Links"})]})})})},l=function(){return Object(s.jsx)("nav",{className:"green darken-1",children:Object(s.jsxs)("div",{className:"nav-wrapper",children:[Object(s.jsx)("a",{href:"#!",className:"brand-logo",children:"React shop"}),Object(s.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Repo"})})})]})})},d=c(15),j=c(11),u=c.n(j),b=c(13),O="GET_GOODS",h="GET_LOADING_FALSE",f="ADD_ORDER",m="CHANGE_ORDER",x="VISIBLE_CART",p="DELETE_ORDER",g="INCREASE_QUANTITY",N="DECREASE_QUANTITY",v=c(2),y=function(e){var t=e.id,c=e.full_background,n=e.name,r=e.price,a=e.description,o=e.setAlertName,l=Object(i.b)(),d=Object(i.c)((function(e){return e.order.order})).findIndex((function(e){return e.id===t}));return Object(s.jsxs)("div",{className:"card",id:t,children:[Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{src:c,alt:n})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("span",{className:"card-title",children:n}),Object(s.jsx)("p",{children:a})]}),Object(s.jsxs)("div",{className:"card-action",children:[Object(s.jsx)("button",{className:"btn",onClick:function(){l(d<0?{type:f,payload:{id:t,name:n,price:r,quantity:1}}:function(e){return{type:m,id:e}}(t)),o(n)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(s.jsxs)("span",{className:"right",style:{fontSize:"1.4rem"},children:[r," \u0440\u0443\u0431."]})]})]})},E=function(e){var t=e.setAlertName,c=Object(i.c)((function(e){return e.goods.goods}));return c.length?Object(s.jsx)("div",{className:"goods",children:c.map((function(e){return Object(s.jsx)(y,Object(v.a)(Object(v.a)({},e),{},{setAlertName:t}),e.id)}))}):Object(s.jsx)("h3",{children:"Nothing here"})},_=function(){return Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"indeterminate"})})},A=function(){return{type:x}},C=function(e){var t=e.quantity,c=void 0===t?0:t,n=Object(i.b)();return Object(s.jsxs)("div",{className:"cart blue darken-4 white-text",onClick:function(){n(A())},children:[Object(s.jsx)("i",{className:"material-icons",children:"add_shopping_cart"}),c&&Object(s.jsx)("span",{className:"cart-quantity",children:c})]})},T=function(e){var t=e.id,c=e.name,n=e.price,r=e.quantity,a=Object(i.b)();return Object(s.jsxs)("li",{className:"collection-item",children:[Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[c," ",Object(s.jsx)("i",{className:"material-icons",style:{cursor:"pointer",paddingRight:"0.5rem",paddingLeft:"0.5rem",color:"#26a69a"},onClick:function(){return a(function(e){return{type:g,id:e}}(t))},children:"add"}),r,Object(s.jsx)("i",{className:"material-icons",style:{cursor:"pointer",paddingLeft:"0.5rem",color:"#26a69a"},onClick:function(){r<=0||a(function(e){return{type:N,id:e}}(t))},children:"remove"}),"= ",n*r," \u0440\u0443\u0431."]}),Object(s.jsx)("span",{className:"secondary-content",onClick:function(){a(function(e){return{type:p,id:e}}(t))},children:Object(s.jsx)("i",{className:"material-icons",style:{cursor:"pointer"},children:"clear"})})]})},w=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.order.order})),c=t.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(s.jsxs)("ul",{className:"collection cart-list",children:[Object(s.jsxs)("li",{className:"collection-item active",children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430",Object(s.jsx)("i",{className:"material-icons cart-close",onClick:function(){e(A())},children:"close"})]}),t.length?t.map((function(e){return Object(s.jsx)(T,Object(v.a)({},e),e.id)})):Object(s.jsx)("li",{className:"collection-item",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),Object(s.jsxs)("li",{className:"collection-item active",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",c," \u0440\u0443\u0431."]}),Object(s.jsx)("li",{className:"collection-item",children:Object(s.jsx)("button",{className:"btn btn-small",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})})]})},D=function(e){var t=e.name,c=void 0===t?"":t,r=e.closeAlert;return Object(n.useEffect)((function(){var e=setTimeout(r,3e3);return function(){clearTimeout(e)}}),[c]),Object(s.jsx)("div",{id:"toast-container",children:Object(s.jsxs)("div",{className:"toast",children:[c," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"]})})},R=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.loading.loading})),c=Object(i.c)((function(e){return e.order.order})),r=Object(i.c)((function(e){return e.loading.isCartVisible})),a=Object(n.useState)(""),o=Object(d.a)(a,2),l=o[0],j=o[1];Object(n.useEffect)((function(){e(function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fortniteapi.io/v1/shop?lang=ru",{headers:{Authorization:"4eb747f1-5019117d-eaa9b383-a4e68229"}}).then((function(e){return e.json()})).then((function(e){var c;t((c=e.featured,{type:O,payload:c})),t({type:h})})).catch((function(e){return alert(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);return Object(s.jsxs)("main",{className:"container content",children:[Object(s.jsx)(C,{quantity:c.length}),t?Object(s.jsx)(_,{}):Object(s.jsx)(E,{setAlertName:j}),r&&Object(s.jsx)(w,{}),l&&Object(s.jsx)(D,{name:l,closeAlert:function(){j("")}})]})};var k=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{}),Object(s.jsx)(R,{}),Object(s.jsx)(o,{})]})},q=(c(28),c(5)),I=c(14),S=c(4),L={goods:[]},V={loading:!0,isCartVisible:!1},G={order:[]},U=Object(q.d)(Object(q.b)({goods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return t.type===O?Object(v.a)(Object(v.a)({},e),{},{goods:[].concat(Object(S.a)(e.goods),Object(S.a)(t.payload))}):e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(v.a)(Object(v.a)({},e),{},{loading:!1});case x:return Object(v.a)(Object(v.a)({},e),{},{isCartVisible:!e.isCartVisible});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(v.a)(Object(v.a)({},e),{},{order:[].concat(Object(S.a)(e.order),[t.payload])});case m:var c=e.order.findIndex((function(e){return e.id===t.id}));return Object(v.a)(Object(v.a)({},e),{},{order:Object(S.a)(e.order).map((function(e,t){return t===c?Object(v.a)(Object(v.a)({},e),{},{quantity:e.quantity+1}):e}))});case p:return Object(v.a)(Object(v.a)({},e),{},{order:Object(S.a)(e.order).filter((function(e){return e.id!==t.id}))});case g:return Object(v.a)(Object(v.a)({},e),{},{order:Object(S.a)(e.order).map((function(e){return e.id===t.id?Object(v.a)(Object(v.a)({},e),{},{quantity:e.quantity+1}):e}))});case N:return Object(v.a)(Object(v.a)({},e),{},{order:Object(S.a)(e.order).map((function(e){return e.id===t.id?Object(v.a)(Object(v.a)({},e),{},{quantity:e.quantity-1}):e}))});default:return e}}}),Object(q.c)(Object(q.a)(I.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));a.a.render(Object(s.jsx)(i.a,{store:U,children:Object(s.jsx)(k,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.382c7bd6.chunk.js.map